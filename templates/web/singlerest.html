{% extends 'base/base.html' %}

{% load static %}

{% block container %}



    
    {% include 'include/header.html' %}



 <section class="py-10 px-4 lg:px-[25%]">
  <section class="wrapper">
    <div class="rounded-lg shadow-lg border p-5">
      <a href="" class="flex flex-col md:flex-row justify-start items-start">
        
        <!-- Store Image -->
        <img src="{{store.image.url}}" 
             alt="{{store.name}}" 
             class="w-full md:w-[30%] rounded-lg mb-4 md:mb-0 md:mr-6">
        
        <!-- Store Info -->
        <div class="w-full md:w-[70%]">
          <h3 class="text-[#515151] text-2xl md:text-3xl font-semibold mb-2 mt-1 md:mt-3">
            {{store.name}}
          </h3>
          <p class="text-[#515151] text-base md:text-lg">
            {{store.tagline}}
          </p>

          <!-- Rating & Time -->
          <div class="flex flex-wrap items-center gap-4 mt-3 text-sm md:text-base">
            <div class="flex items-center gap-1 text-amber-500">
              <i class="fas fa-star text-lg"></i>
              <span class="font-semibold">{{store.rating}}</span>
            </div>
            <div class="flex items-center gap-2 text-slate-600">
              <i class="fas fa-clock text-green-600"></i>
              <p>{{store.time}} min</p>
            </div>
          </div>

          <!-- Offer -->
          <div class="mt-3 inline-flex items-center gap-2 rounded-full">
            <i class="fas fa-tag text-red-600 text-lg"></i>
            <span class="text-red-600 font-semibold">{{store.offer}}</span>
          </div>
        </div>
      </a>                   
    </div>
  </section>
</section>




    <section class="py-10 lg:px-[25%] mb-14 lg:mb-0">
        <section class="wrapper">
            {% for category in food_categories %}
                {% if category.fooditem.all  %}
                    <div class="border-2 rounded-xl mb-6 shadow-lg ">
                        <h2 class="text-[#515151] text-[20px] font-bold p-5">{{category.name}}</h2>

                        {% for item in product_with_quantities %}
                            {% if item.product.categry == category %}
                                <div class=" p-5">
                                    <div class="flex justify-between items-start pb-4 border-b ">
                                        <div class="w-[60%] md:w-[75%]">
                                            {% if item.product.is_veg %}
                                                <img src="{% static 'web/images/veg.png' %}" alt="" class="w-[14px]">
                                            {% else %}
                                                <img src="{% static 'web/images/non.png' %}" alt="" class="w-[14px]">
                                            {% endif %}
                                            <h3 class="text-[#515151] text-xl font-bold mb-1">{{item.product.name}}</h3>
                                            <p class="text-[#515151] text-lg font-semibold mb-5">₹ {{item.product.price}}</p>
                                            
                                            {% if item.quantity > 0 %}
                                                <div class="rounded-lg flex ">
                                                    <a href="{% url 'web:rest_cart_minus' id=item.cart.id %}" class="w-[30px] h-[34px] text-center py-[3px] bg-[#2AC489] rounded-s-lg text-white font-semibold">-</a>
                                                    <span class="text-center w-6 border-b pb-1 border-t pt-1 ">{{item.quantity}}</span>
                                                    <a href="{% url 'web:rest_cart_plus' id=item.cart.id %}" class="w-[30px] h-[34px] text-center py-[3px] bg-[#2AC489] rounded-e-lg text-white font-semibold">+</a>
                                                </div>
                                            {% else %}
                                                <a href="{% url 'web:cart_add' id=item.product.id %}">
                                                    <button class="text-md text-white font-semibold rounded-md border-2 py-[2px] px-3 bg-[#2AC489]">ADD</button>
                                                </a>
                                            {% endif %}
                                            
                                        </div>
                                        <div class="w-[40%] md:w-[25%]">
                                            <img src="{{item.product.image.url}}" alt="" class="w-full shadow-sm rounded-lg mr-6">
                                        </div>
                                    </div>                   
                                </div>
                            {% endif %}    
                        {% endfor %}

                    </div>
                {% endif %}
            {% endfor %}




            {% if carts %}
                <a href="{% url 'web:cart' %}   ">
                    <div class="bg-red-500 px-4 rounded-xl h-[50px] flex justify-between items-center">
                    <p class="text-[16px] text-white font-semibold">{{items}} item | ₹ {{amount}}</p>
                    <a href="{% url 'web:cart' %}" class="flex justify-start items-center">
                        <p class="text-[16px] text-white font-semibold mr-3">View Cart</p>
                        <img src="{% static 'web/images/cart.png' %}" alt="" class="w-[18px]">
                    </a>
                </div>
                </a>
            {% endif %}
            
        </section>
    </section>


    {% include 'include/footer.html' %}



    

{% endblock %}

